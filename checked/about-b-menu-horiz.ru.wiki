==Использование блока b-menu-horiz

Блок ##b-menu-horiz## создает ##html##-разметку для горизонтального меню. Кроме того,
у блока есть ##JavaScript##-функциональность, позволяющая создавать скрипты с реакцией на выбор пункта меню.

Сложность ##html##-разметки меню зависит от модификатора ##layout##. Без этого модификатора блок использоваться не может.

Модификатор ##layout## имеет три значения:
 * normal
 * complex
 * simple

=== Простое горизонтальное меню списком

Входные данные для блока с любым из этих модификаторов похожи: нужно описать блок, модификатор
##layout##, в качестве свойства ##content## блока перечислить пункты меню, которые выражаются
элементами ##item##:

%%hl js
{
  block: 'b-menu-horiz',
  mods: { layout: 'normal' },
  content: [
    {
      elem: 'item',
      content: 'Home'
    },
    {
      elem: 'item',
      content: 'Office'
    },
    ...
  ]
}
%%

Содержанием элементов меню может быть что угодно: ссылки на страницы, псевдо-ссылки,
иконки и вообще любые блоки. В примере выше каждый пункт меню — это просто строка текста.

Такое же меню со ссылками будет выглядеть следующим образом:

%%hl js
{
  block: 'b-menu-horiz',
  mods: { layout: 'normal' },
  content: [
    {
      elem: 'item',
      content: {
        block: 'b-link', url: '/', content: 'Home'
      }
    },
    {
      elem: 'item',
      content: {
        block: 'b-link', url: '/office', content: 'Office'
      }
    },
    ...
  ]
}
%%

Кроме того, у одного из пунктов меню может быть указан модификатор ##{ state: 'current' }##,
этот модификатор помечает текущий пункт меню.\\
На своём уровне переопределения можно реализовать для такого модификатора ##css##-правила, по
которым текущий пункт меню будет визуально отличаться от остальных.

У меню также может быть необязательное свойство ##title##, содержащее описание элемента
##title## — заголовка меню.\\

Для меню с заголовком ##bemjson## будет такой:
%%hl js
{
  block: 'b-menu-horiz',
  mods: { layout: 'normal' },
  title: {
    elem: 'title', content: 'Navigation:'
  },
  content: [
    {
      elem: 'item',
      elemMods: { state: 'current' },
      content: {
        block: 'b-link', url: '/', content: 'Home'
      }
    },
    {
      elem: 'item',
      content: {
        block: 'b-link', url: '/office', content: 'Office'
      }
    },
    ...
  ]
}
%%

=== Горизонтальное меню с клиентской функциональностью

Не всегда меню на сайте подразумевает ссылки, уводящие пользователя на другую
страницу. Меню может использоваться и для клиентского ##JavaScript##-приложения.
В этом случае содержанием пунктов меню обычно бывают псевдо-ссылки:

%%hl js
{
  block: 'b-menu-horiz',
  mods: { layout: 'normal' },
  title: {
    elem: 'title', content: 'Navigation:'
  },
  content: [
    {
      elem: 'item',
      elemMods: { state: 'current' },
      content: {
        block: 'b-link',
        mods: { 'pseudo': 'yes' },
        url: '/',
        content: 'Home'
      }
    },
    {
      elem: 'item',
      content: {
        block: 'b-link',
        mods: { 'pseudo': 'yes' },
        url: '/office',
        content: 'Office'
      }
    },
    ...
  ]
}
%%

Приведённый выше ##bemjson## блока обеспечит нужный внешний вид.\\
Кроме этого нужно, чтобы у меню были области, реагирующие на клик. В данном случае
они совпадают с псевдо-ссылками, поэтому можно применить смешивание блоков (##mix##):

%%hl js
{
  block: 'b-menu-horiz',
  mods: { layout: 'normal' },
  title: {
    elem: 'title', content: 'Navigation:'
  },
  content: [
    {
      elem: 'item',
      elemMods: { state: 'current' },
      content: {
        block: 'b-link',
        mods: { 'pseudo': 'yes' },
        mix: [{ block: 'b-menu-horiz', elem : 'item-selector' }],
        url: '/',
        content: 'Home'
      }
    },
    {
      elem: 'item',
      content: {
        block: 'b-link',
        mods: { 'pseudo': 'yes' },
        mix: [{ block: 'b-menu-horiz', elem : 'item-selector' }],
        url: '/office',
        content: 'Office'
      }
    },
    ...
  ]
}
%%

##JavaScript## код блока реализован так, что активный пункт меню переключается
при клике левой кнопкой мыши на соответствующем элементе ##item-selector##.

При явном использовании этот элемент представлен в ##dom## в виде ##span##, в который можно положить
блоки, составляющие пункт меню. Если же содержание пункта меню состоит всего из
одного блока (как в примере с псевдо-ссылками), для экономии разметки разумно
применять ##mix##.

Кроме того, что соответствующий элемент ##item## в результате клика приобретает
модификатор ##{ state : 'current' }##, на bem-объекте блока возникает событие ##current##,
сопровождающееся данными о текущем и предыдущем активных пунктах.\\
В своем ##JavaScript##-приложении можно реагировать на это событие.

В ##html## по умолчанию блок представлен как имеющий ##JavaScript##-реализацию (он смешан с блоком ##i-bem## и
имеет соответствующие параметры в атрибуте ##onclick##). Но если в блоке
отсутствуют элементы ##item-selector##, ##bem##-объект блока не создаётся.\\
Примешивание блока ##i-bem## можно устранить, если указать свойство ##js## блока как ##false##:

=== Меню без подмешивания блока i-bem

%%hl js
{
  block: 'b-menu-horiz',
  js: false,
  mods: { layout: 'normal' },
  content: [
    {
      elem: 'item',
      content: {
        block: 'b-link', url: '/', content: 'Home'
      }
    },
    {
      elem: 'item',
      content: {
        block: 'b-link', url: '/office', content: 'Office'
      }
    },
    ...
  ]
}
%%

=== Горизонтальное меню таблицей

Использование блока с модификатором ##{ layout: 'complex' }## принципиально ничем не отличается.
Для блока в такой модификации создается разметка на основе таблицы. Такое решение может
потребоваться при некоторых дизайнах.

=== Горизонтальное меню ссылками

В некоторых случаях для вывода меню не нужны даже ##dom##-узлы списка, а достаточно просто
перечислить ссылки, разделив их пробелом, запятой или каким-либо специальным символом.

Для вывода такого меню подходит реализация с модификатором ##{ layout : 'simple' }##:

%%hl js
{
  block: 'b-menu-horiz',
  mods: { layout: 'simple' },
  separator: ' | ',
  content: [
    {
      elem: 'item',
      elemMods: { state: 'current' },
      content: 'Home'
    },
    {
      elem: 'item',
      content: {
      block: 'b-link',
      url: '/',
      content: 'Products'
    },
    ...
  ]
}
%%

##Bemjson## меню отличается наличием свойства ##separator## — специального
символа, который разделяет пункты меню.\\
Активный пункт меню в данном примере представлен в виде простого текста в теге ##span##.

Примеры всех описанных здесь применений блока ##b-menu-horiz## можно найти в директории
блока в репозитории библиотеки bem-bl: ((https://github.com/bem/bem-bl/tree/master/blocks-desktop/b-menu-horiz/examples bem.github.com/bem-bl/.../b-menu-horiz/examples)).
